(function(e){function t(t){for(var r,a,c=t[0],i=t[1],s=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);h&&h(t);while(d.length)d.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-20c4f62e":"e2bbc05c","chunk-2118e460":"368bd164","chunk-2d0c7ad7":"77e76b44","chunk-333ed4a0":"50decef2","chunk-4134b290":"aec3f006","chunk-49345190":"798b646e","chunk-84ff3ca4":"1f4eb2d0","chunk-d44616cc":"08959353"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-20c4f62e":1,"chunk-2118e460":1,"chunk-333ed4a0":1,"chunk-4134b290":1,"chunk-49345190":1,"chunk-84ff3ca4":1,"chunk-d44616cc":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-20c4f62e":"2d74a978","chunk-2118e460":"91e4cce0","chunk-2d0c7ad7":"31d6cfe0","chunk-333ed4a0":"2240c619","chunk-4134b290":"9e2f82fb","chunk-49345190":"549c03b4","chunk-84ff3ca4":"1ae9c883","chunk-d44616cc":"3d69d08e"}[e]+".css",o=i.p+r,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){s=d[c],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],h.parentNode.removeChild(h),n(u)},h.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var h=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a25":function(e,t,n){},3509:function(e,t,n){"use strict";var r=n("e677"),a=n.n(r);a.a},"4b75":function(e,t,n){"use strict";var r=n("5a64"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("div",{staticClass:"container"},[n("router-view")],1)],1)},o=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("div",{staticClass:"header-container"},[r("div",{staticClass:"container"},[r("div",{staticClass:"logo"},[r("router-link",{attrs:{to:{name:"Home"}}},[r("img",{attrs:{src:n("cf05"),alt:""}})])],1),r("ul",{staticClass:"nav"},[r("li",[r("router-link",{attrs:{to:{name:"Home"}}},[e._v("首页")])],1),e.isLoading?r("li",[e._v("loading...")]):e._e(),e._l(e.data.slice(0,5),(function(t){return r("li",{key:t.channelId},[r("router-link",{attrs:{to:{name:"ChannelNews",params:{id:t.channelId}}}},[e._v(e._s(t.name))])],1)}))],2),r("div",{staticClass:"user"},[e.isLogining?r("span",[e._v("loading...")]):e.loginUser?[r("router-link",{attrs:{to:{name:"Personal"}}},[e._v(e._s(e.loginUser.nickname))]),r("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.handleLoginOut(t)}}},[e._v("退出登录")])]:[r("router-link",{attrs:{to:{name:"Login"}}},[e._v("登录")]),r("router-link",{attrs:{to:{name:"Reg"}}},[e._v("注册")])]],2)])])])},c=[],i=n("5530"),s=n("2f62"),l={computed:Object(i["a"])(Object(i["a"])({},Object(s["b"])("channels",["data","isLoading"])),Object(s["b"])("loginUser",{loginUser:"data",isLogining:"isLoading"})),methods:{handleLoginOut:function(){this.$store.dispatch("loginUser/loginOut"),this.$router.push({name:"Login"})}}},d=l,h=(n("3509"),n("2877")),f=Object(h["a"])(d,u,c,!1,null,"a21313b4",null),p=f.exports,m={components:{Header:p}},g=m,A=(n("4b75"),Object(h["a"])(g,a,o,!1,null,"1eaaf0ef",null)),b=A.exports,w=(n("7371"),n("1a25"),n("8c4f")),v=(n("d3b7"),{routes:[{path:"/",name:"Home",component:function(){return n.e("chunk-4134b290").then(n.bind(null,"bb51"))}},{path:"/login",name:"Login",component:function(){return n.e("chunk-49345190").then(n.bind(null,"a55b"))}},{path:"/reg",name:"Reg",component:function(){return n.e("chunk-333ed4a0").then(n.bind(null,"b8b8"))}},{path:"/personal",name:"Personal",component:function(){return n.e("chunk-84ff3ca4").then(n.bind(null,"90ab"))},meta:{auth:!0}},{path:"/protected",name:"Protected",component:function(){return n.e("chunk-2d0c7ad7").then(n.bind(null,"5248"))},meta:{auth:!0}},{path:"/channel/:id",name:"ChannelNews",component:function(){return n.e("chunk-20c4f62e").then(n.bind(null,"3244"))}},{path:"/auth",name:"Auth",component:function(){return n.e("chunk-d44616cc").then(n.bind(null,"2fef"))}},{path:"*",name:"404",component:function(){return n.e("chunk-2118e460").then(n.bind(null,"9703"))}}],mode:"history"}),k=(n("96cf"),n("1da1")),C=n("6e77"),L={namespaced:!0,state:{data:[],isLoading:!1},mutations:{setIsLoading:function(e,t){e.isLoading=t},setData:function(e,t){e.data=t}},actions:{fetchDatas:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("setIsLoading",!0),t.next=3,Object(C["b"])();case 3:n=t.sent,e.commit("setData",n),e.commit("setIsLoading",!1);case 6:case"end":return t.stop()}}),t)})))()}}},D=n("fef9"),y={namespaced:!0,state:{data:null,isLoading:!1},mutations:{setIsloading:function(e,t){e.isLoading=t},setData:function(e,t){e.data=t}},actions:{login:function(e,t){return Object(k["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit("setIsloading",!0),n.next=3,Object(D["a"])(t);case 3:return r=n.sent,a=!1,0===r.code&&(e.commit("setData",r.data),a=!0),e.commit("setIsloading",!1),n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))()},whoAmI:function(e){return Object(k["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("setIsloading",!0),t.next=3,Object(D["d"])();case 3:n=t.sent,e.commit("setData",n),e.commit("setIsloading",!1);case 6:case"end":return t.stop()}}),t)})))()},loginOut:function(e){Object(D["b"])(),e.commit("setData",null)}}};r["a"].use(s["a"]);var R=new s["a"].Store({modules:{channels:L,loginUser:y}}),x=R;r["a"].use(w["a"]);var j=new w["a"](v);j.beforeEach((function(e,t,n){e.meta.auth?x.state.loginUser.isLoading?n({name:"Auth",query:{returnurl:e.fullPath}}):x.state.loginUser.data?n():n({name:"Login"}):n()}));var U=j;x.dispatch("channels/fetchDatas"),x.dispatch("loginUser/whoAmI"),new r["a"]({render:function(e){return e(b)},router:U,store:x}).$mount("#app")},"5a64":function(e,t,n){},"6e77":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));n("96cf");var r=n("1da1"),a=n("bc3a"),o=n.n(a),u="a38426601d744364bad526588881e64b";function c(){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("http://ali-news.showapi.com/channelList",{headers:{Authorization:"APPCODE ".concat(u)}});case 2:return t=e.sent,e.abrupt("return",t.data.showapi_res_body.channelList);case 4:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function s(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,r=c.length>2&&void 0!==c[2]?c[2]:10,e.next=4,o.a.get("http://ali-news.showapi.com/newsList",{headers:{Authorization:"APPCODE ".concat(u)},params:{channelId:t,page:n,maxResult:r,needAllList:!1,needContent:1}});case 4:return a=e.sent,e.abrupt("return",a.data.showapi_res_body.pagebean);case 6:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}},7371:function(e,t,n){},cf05:function(e,t){e.exports="data:image/png;base64,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"},e677:function(e,t,n){},fef9:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return h}));n("d3b7"),n("96cf");var r=n("1da1"),a=n("bc3a"),o=n.n(a);function u(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function c(e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u(2e3);case 2:return e.next=4,o.a.post("/api/user/login",t);case 4:return n=e.sent,r=n.headers.authorization,r&&localStorage.setItem("token",r),e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function s(){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u(2e3);case 2:if(t=localStorage.getItem("token"),t){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,o.a.get("/api/user/whoami",{headers:{authorization:"bearer ".concat(t)}});case 7:return n=e.sent,e.abrupt("return",n.data.data);case 9:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(){localStorage.removeItem("token")}function h(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/user/reg",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}}});
//# sourceMappingURL=app.5e9570e0.js.map