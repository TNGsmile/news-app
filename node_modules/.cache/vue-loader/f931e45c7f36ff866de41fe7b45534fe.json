{"remainingRequest":"/Users/smile/Documents/源码/16. 登录和注册接口/news-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/smile/Documents/源码/16. 登录和注册接口/news-app/src/components/news/Channels.vue?vue&type=style&index=0&id=68bee9cc&scoped=true&lang=css&","dependencies":[{"path":"/Users/smile/Documents/源码/16. 登录和注册接口/news-app/src/components/news/Channels.vue","mtime":1589783032000},{"path":"/Users/smile/Documents/源码/16. 登录和注册接口/news-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/源码/16. 登录和注册接口/news-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/smile/Documents/源码/16. 登录和注册接口/news-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/smile/Documents/源码/16. 登录和注册接口/news-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/源码/16. 登录和注册接口/news-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubmV3cy10eXBlcyB7CiAgbWFyZ2luOiAzMHB4IDA7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IHdyYXA7CiAgZm9udC1zaXplOiAxNHB4OwogIHBhZGRpbmctYm90dG9tOiAxNXB4Owp9Ci5pdGVtIHsKICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgbWFyZ2luLXJpZ2h0OiAxNXB4OwogIG1hcmdpbjogN3B4IDE1cHggN3B4IDA7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQouaXRlbTpob3ZlciB7CiAgYmFja2dyb3VuZDogI2NjYzsKfQouaXRlbS5hY3RpdmUgewogIGJhY2tncm91bmQ6ICMwMDA7CiAgY29sb3I6ICNmZmY7Cn0KLm5ld3MtdHlwZXMgYSB7CiAgYWxpZ24tc2VsZjogZmxleC1lbmQ7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKICBjb2xvcjogIzQwOWVmZjsKfQo="},{"version":3,"sources":["Channels.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Channels.vue","sourceRoot":"src/components/news","sourcesContent":["<template>\n  <div class=\"news-types\" v-if=\"data.length > 0\">\n    <div\n      class=\"item\"\n      v-for=\"item in showChannels\"\n      :key=\"item.channelId\"\n      :class=\"{\n        active: item.channelId === chooseId,\n      }\"\n      @click=\"switchTo(item.channelId)\"\n    >\n      <span class=\"name\">{{ item.name }}</span>\n    </div>\n    <a href=\"\" @click.prevent=\"isCollapse = !isCollapse\">{{\n      isCollapse ? \"展开\" : \"收起\"\n    }}</a>\n  </div>\n</template>\n\n<script>\nimport { getNewsChannels } from \"@/services/newsService\";\nimport { mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      isCollapse: true, // 当前是否为折叠状态\n      chooseId: null, // 当前选中的频道id\n    };\n  },\n  computed: {\n    ...mapState(\"channels\", [\"data\"]),\n    // 需要显示的频道\n    showChannels() {\n      if (this.isCollapse) {\n        // 折叠状态\n        return this.data.slice(0, 8); //折叠状态只需要显示8个数据\n      } else {\n        // 展开状态\n        return this.data;\n      }\n    },\n  },\n  watch: {\n    data: {\n      immediate: true,\n      handler() {\n        if (this.data.length > 0) {\n          this.switchTo(this.data[0].channelId);\n        }\n      },\n    },\n  },\n  methods: {\n    // 切换chooseId\n    switchTo(id) {\n      this.chooseId = id;\n      // 我知道我的频道被切换了，但，我不知道切换过后要干嘛？\n      // 触发一个事件，让组件的使用者去搞定这件事\n      this.$emit(\"change\", this.chooseId);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.news-types {\n  margin: 30px 0;\n  border-bottom: 1px solid #ccc;\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 14px;\n  padding-bottom: 15px;\n}\n.item {\n  padding: 10px 20px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  margin-right: 15px;\n  margin: 7px 15px 7px 0;\n  cursor: pointer;\n  position: relative;\n}\n.item:hover {\n  background: #ccc;\n}\n.item.active {\n  background: #000;\n  color: #fff;\n}\n.news-types a {\n  align-self: flex-end;\n  margin-bottom: 20px;\n  color: #409eff;\n}\n</style>\n"]}]}