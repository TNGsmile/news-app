{"remainingRequest":"/Users/smile/Documents/vue-5-27/news-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/smile/Documents/vue-5-27/news-app/src/components/news/Channels.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/smile/Documents/vue-5-27/news-app/src/components/news/Channels.vue","mtime":1589783032000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldE5ld3NDaGFubmVscyB9IGZyb20gIkAvc2VydmljZXMvbmV3c1NlcnZpY2UiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQ29sbGFwc2U6IHRydWUsIC8vIOW9k+WJjeaYr+WQpuS4uuaKmOWPoOeKtuaAgQogICAgICBjaG9vc2VJZDogbnVsbCwgLy8g5b2T5YmN6YCJ5Lit55qE6aKR6YGTaWQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoImNoYW5uZWxzIiwgWyJkYXRhIl0pLAogICAgLy8g6ZyA6KaB5pi+56S655qE6aKR6YGTCiAgICBzaG93Q2hhbm5lbHMoKSB7CiAgICAgIGlmICh0aGlzLmlzQ29sbGFwc2UpIHsKICAgICAgICAvLyDmipjlj6DnirbmgIEKICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNsaWNlKDAsIDgpOyAvL+aKmOWPoOeKtuaAgeWPqumcgOimgeaYvuekujjkuKrmlbDmja4KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlsZXlvIDnirbmgIEKICAgICAgICByZXR1cm4gdGhpcy5kYXRhOwogICAgICB9CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGE6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyKCkgewogICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5zd2l0Y2hUbyh0aGlzLmRhdGFbMF0uY2hhbm5lbElkKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLy8g5YiH5o2iY2hvb3NlSWQKICAgIHN3aXRjaFRvKGlkKSB7CiAgICAgIHRoaXMuY2hvb3NlSWQgPSBpZDsKICAgICAgLy8g5oiR55+l6YGT5oiR55qE6aKR6YGT6KKr5YiH5o2i5LqG77yM5L2G77yM5oiR5LiN55+l6YGT5YiH5o2i6L+H5ZCO6KaB5bmy5Zib77yfCiAgICAgIC8vIOinpuWPkeS4gOS4quS6i+S7tu+8jOiuqee7hOS7tueahOS9v+eUqOiAheWOu+aQnuWumui/meS7tuS6iwogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2UiLCB0aGlzLmNob29zZUlkKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Channels.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Channels.vue","sourceRoot":"src/components/news","sourcesContent":["<template>\n  <div class=\"news-types\" v-if=\"data.length > 0\">\n    <div\n      class=\"item\"\n      v-for=\"item in showChannels\"\n      :key=\"item.channelId\"\n      :class=\"{\n        active: item.channelId === chooseId,\n      }\"\n      @click=\"switchTo(item.channelId)\"\n    >\n      <span class=\"name\">{{ item.name }}</span>\n    </div>\n    <a href=\"\" @click.prevent=\"isCollapse = !isCollapse\">{{\n      isCollapse ? \"展开\" : \"收起\"\n    }}</a>\n  </div>\n</template>\n\n<script>\nimport { getNewsChannels } from \"@/services/newsService\";\nimport { mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      isCollapse: true, // 当前是否为折叠状态\n      chooseId: null, // 当前选中的频道id\n    };\n  },\n  computed: {\n    ...mapState(\"channels\", [\"data\"]),\n    // 需要显示的频道\n    showChannels() {\n      if (this.isCollapse) {\n        // 折叠状态\n        return this.data.slice(0, 8); //折叠状态只需要显示8个数据\n      } else {\n        // 展开状态\n        return this.data;\n      }\n    },\n  },\n  watch: {\n    data: {\n      immediate: true,\n      handler() {\n        if (this.data.length > 0) {\n          this.switchTo(this.data[0].channelId);\n        }\n      },\n    },\n  },\n  methods: {\n    // 切换chooseId\n    switchTo(id) {\n      this.chooseId = id;\n      // 我知道我的频道被切换了，但，我不知道切换过后要干嘛？\n      // 触发一个事件，让组件的使用者去搞定这件事\n      this.$emit(\"change\", this.chooseId);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.news-types {\n  margin: 30px 0;\n  border-bottom: 1px solid #ccc;\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 14px;\n  padding-bottom: 15px;\n}\n.item {\n  padding: 10px 20px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  margin-right: 15px;\n  margin: 7px 15px 7px 0;\n  cursor: pointer;\n  position: relative;\n}\n.item:hover {\n  background: #ccc;\n}\n.item.active {\n  background: #000;\n  color: #fff;\n}\n.news-types a {\n  align-self: flex-end;\n  margin-bottom: 20px;\n  color: #409eff;\n}\n</style>\n"]}]}