{"remainingRequest":"/Users/smile/Documents/vue-5-27/news-app/node_modules/babel-loader/lib/index.js!/Users/smile/Documents/vue-5-27/news-app/src/store/loginUser.js","dependencies":[{"path":"/Users/smile/Documents/vue-5-27/news-app/src/store/loginUser.js","mtime":1591007624851},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3NtaWxlL0RvY3VtZW50cy92dWUtNS0yNy9uZXdzLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vIOeZu+W9leeUqOaItyDnmoTku5PlupPmlbDmja4KaW1wb3J0IHsgbG9naW4gYXMgX2xvZ2luLCBsb2dpbk91dCBhcyBfbG9naW5PdXQsIHdob0FtSSBhcyBfd2hvQW1JIH0gZnJvbSAiLi4vc2VydmljZXMvdXNlclNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICAvLyDlvIDlkK/lkb3lkI3nqbrpl7QKICBzdGF0ZTogewogICAgZGF0YTogbnVsbCwKICAgIC8vICDlvZPliY3nmbvlvZXnmoTnlKjmiLcKICAgIGlzTG9hZGluZzogZmFsc2UgLy8gIOaYr+WQpuato+WcqOi/nOeoi+eZu+W9lQoKICB9LAogIC8vIOeqgeWPmAogIG11dGF0aW9uczogewogICAgLy8g6K6+572u5Yqg6L29CiAgICBzZXRJc2xvYWRpbmc6IGZ1bmN0aW9uIHNldElzbG9hZGluZyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuZGF0YSA9IHBheWxvYWQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGV4dCwgcGF5bG9hZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldElzbG9hZGluZyIsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX2xvZ2luKHBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgLy8gIOeZu+W9leaIkOWKnwogICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0RGF0YSIsIHJlc3AuZGF0YSk7CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldElzbG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyAg5b2T5YmN55So5oi3CiAgICB3aG9BbUk6IGZ1bmN0aW9uIHdob0FtSShjb250ZXh0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0SXNsb2FkaW5nIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3dob0FtSSgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0RGF0YSIsIHJlc3ApOwogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldElzbG9hZGluZyIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9naW5PdXQ6IGZ1bmN0aW9uIGxvZ2luT3V0KGNvbnRleHQpIHsKICAgICAgX2xvZ2luT3V0KCk7CgogICAgICBjb250ZXh0LmNvbW1pdCgic2V0RGF0YSIsIG51bGwpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/smile/Documents/vue-5-27/news-app/src/store/loginUser.js"],"names":["login","loginOut","whoAmI","namespaced","state","data","isLoading","mutations","setIsloading","payload","setData","actions","context","commit","resp","result","code"],"mappings":";;AAAA;AACA,SAASA,KAAK,IAALA,MAAT,EAAgBC,QAAQ,IAARA,SAAhB,EAA0BC,MAAM,IAANA,OAA1B,QAAwC,yBAAxC;AACA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AACK;AAClBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,IADD;AACO;AACZC,IAAAA,SAAS,EAAE,KAFN,CAEa;;AAFb,GAFM;AAMb;AACAC,EAAAA,SAAS,EAAE;AACT;AACAC,IAAAA,YAFS,wBAEKJ,KAFL,EAEYK,OAFZ,EAEqB;AAC5BL,MAAAA,KAAK,CAACE,SAAN,GAAkBG,OAAlB;AACD,KAJQ;AAKTC,IAAAA,OALS,mBAKAN,KALA,EAKOK,OALP,EAKgB;AACvBL,MAAAA,KAAK,CAACC,IAAN,GAAaI,OAAb;AACD;AAPQ,GAPE;AAgBbE,EAAAA,OAAO,EAAE;AACDX,IAAAA,KADC,iBACMY,OADN,EACeH,OADf,EACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7BG,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,IAA/B;AAD6B;AAAA,uBAEZb,MAAK,CAACS,OAAD,CAFO;;AAAA;AAEzBK,gBAAAA,IAFyB;AAGzBC,gBAAAA,MAHyB,GAGhB,KAHgB;;AAI7B,oBAAID,IAAI,CAACE,IAAL,KAAc,CAAlB,EAAqB;AACnB;AACAJ,kBAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0BC,IAAI,CAACT,IAA/B;AACAU,kBAAAA,MAAM,GAAG,IAAT;AACD;;AACDH,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,KAA/B;AAT6B,iDAUtBE,MAVsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAW9B,KAZM;AAaP;AACMb,IAAAA,MAdC,kBAcOU,OAdP,EAcgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBA,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,IAA/B;AADqB;AAAA,uBAEJX,OAAM,EAFF;;AAAA;AAEjBY,gBAAAA,IAFiB;AAGrBF,gBAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0BC,IAA1B;AACAF,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,KAA/B;;AAJqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKtB,KAnBM;AAoBPZ,IAAAA,QApBO,oBAoBGW,OApBH,EAoBY;AACjBX,MAAAA,SAAQ;;AACRW,MAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0B,IAA1B;AACD;AAvBM;AAhBI,CAAf","sourcesContent":["// 登录用户 的仓库数据\nimport { login, loginOut, whoAmI } from \"../services/userService\";\nexport default {\n  namespaced: true, // 开启命名空间\n  state: {\n    data: null, //  当前登录的用户\n    isLoading: false, //  是否正在远程登录\n  },\n  // 突变\n  mutations: {\n    // 设置加载\n    setIsloading (state, payload) {\n      state.isLoading = payload\n    },\n    setData (state, payload) {\n      state.data = payload\n    },\n  },\n  actions: {\n    async login (context, payload) {\n      context.commit(\"setIsloading\", true)\n      var resp = await login(payload)\n      var result = false;\n      if (resp.code === 0) {\n        //  登录成功\n        context.commit(\"setData\", resp.data)\n        result = true;\n      }\n      context.commit(\"setIsloading\", false)\n      return result;\n    },\n    //  当前用户\n    async whoAmI (context) {\n      context.commit(\"setIsloading\", true)\n      var resp = await whoAmI()\n      context.commit(\"setData\", resp);\n      context.commit(\"setIsloading\", false)\n    },\n    loginOut (context) {\n      loginOut()\n      context.commit(\"setData\", null)\n    }\n  },\n}\n"]}]}