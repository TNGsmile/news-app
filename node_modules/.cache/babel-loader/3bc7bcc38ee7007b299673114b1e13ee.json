{"remainingRequest":"/Users/smile/Documents/vue-5-27/news-app/node_modules/thread-loader/dist/cjs.js!/Users/smile/Documents/vue-5-27/news-app/node_modules/babel-loader/lib/index.js!/Users/smile/Documents/vue-5-27/news-app/src/services/newsService.js","dependencies":[{"path":"/Users/smile/Documents/vue-5-27/news-app/src/services/newsService.js","mtime":1589423592000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3NtaWxlL0RvY3VtZW50cy92dWUtNS0yNy9uZXdzLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vIOi/nOeoi+iOt+WPluaWsOmXu+WSjOaWsOmXu+exu+WIq+eahOaVsOaNrgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBBUFBDT0RFIH0gZnJvbSAiLi9jb25maWciOwovKioKICog6I635Y+W5omA5pyJ55qE5paw6Ze757G75YirCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldE5ld3NDaGFubmVscygpIHsKICByZXR1cm4gX2dldE5ld3NDaGFubmVscy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKgogKiDmjInnhafpopHpgZPvvIzliIbpobXojrflj5bmlrDpl7sKICogQHBhcmFtIHsqfSBjaGFubmVsSWQg6aKR6YGTaWQKICogQHBhcmFtIHsqfSBwYWdlIOmhteegge+8jOS7jjHlvIDlp4sKICogQHBhcmFtIHsqfSBsaW1pdCDmr4/pobXlpJrlsJHmnaHmlbDmja4KICovCgpmdW5jdGlvbiBfZ2V0TmV3c0NoYW5uZWxzKCkgewogIF9nZXROZXdzQ2hhbm5lbHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgcmVzcDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly9hbGktbmV3cy5zaG93YXBpLmNvbS9jaGFubmVsTGlzdCIsIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQVBQQ09ERSAiLmNvbmNhdChBUFBDT0RFKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcC5kYXRhLnNob3dhcGlfcmVzX2JvZHkuY2hhbm5lbExpc3QpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9nZXROZXdzQ2hhbm5lbHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldE5ld3MoX3gpIHsKICByZXR1cm4gX2dldE5ld3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldE5ld3MoKSB7CiAgX2dldE5ld3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGNoYW5uZWxJZCkgewogICAgdmFyIHBhZ2UsCiAgICAgICAgbGltaXQsCiAgICAgICAgcmVzcCwKICAgICAgICBfYXJnczIgPSBhcmd1bWVudHM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBwYWdlID0gX2FyZ3MyLmxlbmd0aCA+IDEgJiYgX2FyZ3MyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMV0gOiAxOwogICAgICAgICAgICBsaW1pdCA9IF9hcmdzMi5sZW5ndGggPiAyICYmIF9hcmdzMlsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzJdIDogMTA7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiaHR0cDovL2FsaS1uZXdzLnNob3dhcGkuY29tL25ld3NMaXN0IiwgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJBUFBDT0RFICIuY29uY2F0KEFQUENPREUpCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY2hhbm5lbElkLAogICAgICAgICAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICAgICAgICAgIG1heFJlc3VsdDogbGltaXQsCiAgICAgICAgICAgICAgICBuZWVkQWxsTGlzdDogZmFsc2UsCiAgICAgICAgICAgICAgICBuZWVkQ29udGVudDogMQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXNwLmRhdGEuc2hvd2FwaV9yZXNfYm9keS5wYWdlYmVhbik7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfZ2V0TmV3cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/Users/smile/Documents/vue-5-27/news-app/src/services/newsService.js"],"names":["axios","APPCODE","getNewsChannels","get","headers","Authorization","resp","data","showapi_res_body","channelList","getNews","channelId","page","limit","params","maxResult","needAllList","needContent","pagebean"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA;;;;AAGA,gBAAsBC,eAAtB;AAAA;AAAA;AASA;;;;;;;;6EATO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACYF,KAAK,CAACG,GAAN,CAAU,yCAAV,EAAqD;AACpEC,cAAAA,OAAO,EAAE;AACPC,gBAAAA,aAAa,oBAAaJ,OAAb;AADN;AAD2D,aAArD,CADZ;;AAAA;AACDK,YAAAA,IADC;AAAA,6CAMEA,IAAI,CAACC,IAAL,CAAUC,gBAAV,CAA2BC,WAN7B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeP,gBAAsBC,OAAtB;AAAA;AAAA;;;qEAAO,kBAAuBC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkCC,YAAAA,IAAlC,8DAAyC,CAAzC;AAA4CC,YAAAA,KAA5C,8DAAoD,EAApD;AAAA;AAAA,mBACYb,KAAK,CAACG,GAAN,CAAU,sCAAV,EAAkD;AACjEC,cAAAA,OAAO,EAAE;AACPC,gBAAAA,aAAa,oBAAaJ,OAAb;AADN,eADwD;AAIjEa,cAAAA,MAAM,EAAE;AACNH,gBAAAA,SAAS,EAATA,SADM;AAENC,gBAAAA,IAAI,EAAJA,IAFM;AAGNG,gBAAAA,SAAS,EAAEF,KAHL;AAING,gBAAAA,WAAW,EAAE,KAJP;AAKNC,gBAAAA,WAAW,EAAE;AALP;AAJyD,aAAlD,CADZ;;AAAA;AACDX,YAAAA,IADC;AAAA,8CAaEA,IAAI,CAACC,IAAL,CAAUC,gBAAV,CAA2BU,QAb7B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["// 远程获取新闻和新闻类别的数据\nimport axios from \"axios\";\nimport { APPCODE } from \"./config\";\n/**\n * 获取所有的新闻类别\n */\nexport async function getNewsChannels() {\n  var resp = await axios.get(\"http://ali-news.showapi.com/channelList\", {\n    headers: {\n      Authorization: `APPCODE ${APPCODE}`,\n    },\n  });\n  return resp.data.showapi_res_body.channelList;\n}\n\n/**\n * 按照频道，分页获取新闻\n * @param {*} channelId 频道id\n * @param {*} page 页码，从1开始\n * @param {*} limit 每页多少条数据\n */\nexport async function getNews(channelId, page = 1, limit = 10) {\n  var resp = await axios.get(\"http://ali-news.showapi.com/newsList\", {\n    headers: {\n      Authorization: `APPCODE ${APPCODE}`,\n    },\n    params: {\n      channelId,\n      page,\n      maxResult: limit,\n      needAllList: false,\n      needContent: 1,\n    },\n  });\n  return resp.data.showapi_res_body.pagebean;\n}\n"]}]}