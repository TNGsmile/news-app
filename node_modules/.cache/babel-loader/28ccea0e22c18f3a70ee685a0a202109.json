{"remainingRequest":"/Users/smile/Documents/vue-5-27/news-app/node_modules/thread-loader/dist/cjs.js!/Users/smile/Documents/vue-5-27/news-app/node_modules/babel-loader/lib/index.js!/Users/smile/Documents/vue-5-27/news-app/src/routes/index.js","dependencies":[{"path":"/Users/smile/Documents/vue-5-27/news-app/src/routes/index.js","mtime":1591018579323},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/smile/Documents/vue-5-27/news-app/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgY29uZmlnIGZyb20gIi4vY29uZmlnIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsgLy8xLiDlronoo4UKClZ1ZS51c2UoVnVlUm91dGVyKTsgLy8yLiDliJvlu7rot6/nlLHlr7nosaEKCnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKGNvbmZpZyk7IC8vIHRvIOihqOekuui3r+eUseWvueixoSzmiJHopoHov5vlhaXpgqPkuKrot6/nlLEKLy8gZnJvbSDooajnpLrku47lk6rkuIDkuKrot6/nlLHov4fmnaXnmoQKLy8gbmV4dCDmmK/kuIDkuKrlh73mlbAs5Y+v5Lul6YCa6L+H6K+l5Ye95pWw6Lez6L2s5Yiw5oyH5a6a55qE6Lev55SxCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ubWV0YS5hdXRoKSB7CiAgICAvLyDpnIDopoHnmbvlvZXmiY3lj6/ku6Xorr/pl64KICAgIGlmIChzdG9yZS5zdGF0ZS5sb2dpblVzZXIuaXNMb2FkaW5nKSB7CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICJBdXRoIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmV0dXJudXJsOiB0by5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKHN0b3JlLnN0YXRlLmxvZ2luVXNlci5kYXRhKSB7CiAgICAgIG5leHQoKTsgLy/lhYHorrjov5vlhaUKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIC8vIOmDveWPr+S7peiuv+mXrgogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/smile/Documents/vue-5-27/news-app/src/routes/index.js"],"names":["VueRouter","Vue","config","store","use","router","beforeEach","to","from","next","meta","auth","state","loginUser","isLoading","name","query","returnurl","fullPath","data"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB,C,CAEA;;AACAF,GAAG,CAACG,GAAJ,CAAQJ,SAAR,E,CAEA;;AACA,IAAIK,MAAM,GAAG,IAAIL,SAAJ,CAAcE,MAAd,CAAb,C,CAEA;AACA;AACA;;AACAG,MAAM,CAACC,UAAP,CAAkB,UAAUC,EAAV,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AAC1C,MAAIF,EAAE,CAACG,IAAH,CAAQC,IAAZ,EAAkB;AAChB;AACA,QAAIR,KAAK,CAACS,KAAN,CAAYC,SAAZ,CAAsBC,SAA1B,EAAqC;AACnCL,MAAAA,IAAI,CAAC;AAAEM,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAEV,EAAE,CAACW;AAAhB;AAAvB,OAAD,CAAJ;AACD,KAFD,MAEO,IAAIf,KAAK,CAACS,KAAN,CAAYC,SAAZ,CAAsBM,IAA1B,EAAgC;AACrCV,MAAAA,IAAI,GADiC,CAC7B;AACT,KAFM,MAGF;AACHA,MAAAA,IAAI,CAAC;AAAEM,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD;AACF,GAVD,MAUO;AACL;AACAN,IAAAA,IAAI;AACL;AACF,CAfD;AAgBA,eAAeJ,MAAf","sourcesContent":["import VueRouter from \"vue-router\";\nimport Vue from \"vue\";\nimport config from \"./config\"\nimport store from \"../store\";\n\n//1. 安装\nVue.use(VueRouter);\n\n//2. 创建路由对象\nvar router = new VueRouter(config);\n\n// to 表示路由对象,我要进入那个路由\n// from 表示从哪一个路由过来的\n// next 是一个函数,可以通过该函数跳转到指定的路由\nrouter.beforeEach(function (to, from, next) {\n  if (to.meta.auth) {\n    // 需要登录才可以访问\n    if (store.state.loginUser.isLoading) {\n      next({ name: \"Auth\", query: { returnurl: to.fullPath } });\n    } else if (store.state.loginUser.data) {\n      next(); //允许进入\n    }\n    else {\n      next({ name: \"Login\" });\n    }\n  } else {\n    // 都可以访问\n    next();\n  }\n});\nexport default router;\n"]}]}